#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct WPSProbeRespIe {int dummy; } ;

/* Variables and functions */
 int MAX_TL ; 
 int /*<<< orphan*/  assert (int) ; 
 int /*<<< orphan*/  free (char*) ; 
 int /*<<< orphan*/  printf (char*,int) ; 
 long* wtag_c_point ; 

int
wtoa( char *pop, struct WPSProbeRespIe *tag )
{
    unsigned char *a = (void *)tag;
    char *tmp;
    long tmp_a;
    int i = 0, p = 0, co = 0, j;
    int size = sizeof(struct WPSProbeRespIe);

    while( p < size )
    {
	if( wtag_c_point[co] == (long)(a+p) ){
	    assert(co++ < 7);
	    tmp_a = 0;
	    for( j = 0; j < 32; j+=8 )
		tmp_a |= *(a+p++)<<j;

	    tmp = (char *)tmp_a;
	    j = 0;
	    while( tmp[j] )
		pop[i++] = tmp[j++];

#ifdef __x86_64__
	    p+=4;
#endif
	    free( tmp );
	}else
	    pop[i++] = *(a+p++);
    }
#ifdef DEBUG
    printf("Total Wps Length: %d\n", i); 
#endif

    /* wps->head.tl */
    pop[1] = i-2;
    assert(i <= MAX_TL+1);
    /* i is array length */

    return( i );
}