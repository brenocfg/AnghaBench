#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_4__   TYPE_1__ ;

/* Type definitions */
struct TYPE_4__ {int Dr7; int Dr6; scalar_t__ Dr0; scalar_t__ Dr1; scalar_t__ Dr2; int /*<<< orphan*/  Dr3; int /*<<< orphan*/  member_0; } ;
typedef  int /*<<< orphan*/  HANDLE ;
typedef  TYPE_1__ CONTEXT ;

/* Variables and functions */
 int /*<<< orphan*/  CONTEXT_DEBUG_REGISTERS ; 
 int /*<<< orphan*/  GetThreadContext (int /*<<< orphan*/ ,TYPE_1__*) ; 
 int /*<<< orphan*/  MAGICESPINLSA ; 
 int /*<<< orphan*/  ResumeThread (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  SetThreadContext (int /*<<< orphan*/ ,TYPE_1__*) ; 
 int /*<<< orphan*/  SuspendThread (int /*<<< orphan*/ ) ; 

void add_thread(HANDLE thread)
{
		  CONTEXT ctx = {CONTEXT_DEBUG_REGISTERS};

//DR7=d0000540 DR6=ffff0ff0 DR3=53ffa0 DR2=0 DR1=0 DR0=0

    SuspendThread(thread);
    GetThreadContext(thread,&ctx);
	ctx.Dr7=0xd0000540;
	ctx.Dr6=0xffff0ff0;
	ctx.Dr3=MAGICESPINLSA;
	ctx.Dr2=0;
	ctx.Dr1=0;
	ctx.Dr0=0;
    SetThreadContext(thread, &ctx);
    ResumeThread(thread);
//    printf("DR7=%x DR6=%x DR3=%x DR2=%x DR1=%x DR0=%x\n",ctx.Dr7,ctx.Dr6,ctx.Dr3,ctx.Dr2,ctx.Dr1,ctx.Dr0);

}